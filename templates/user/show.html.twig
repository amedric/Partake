{% extends 'base.html.twig' %}

{% block title %}Profile{% endblock %}

{% block header %}
    <div class="ptk-profileContainer">
        <div class="ptk-profileTitleContainer">
            <h1 class="ptk-profileHeader">Profile</h1>
        </div>
        <div class="ptk-profileDetailsContainer">
            <div class="ptk-profileDetailsLeft">
                <div class="ptk-profileDetailsRow">
                    <p class="ptk-profileLabels">Firstname:</p>
                    <p class="ptk-profileDetails">{{ user.firstname }}</p>
                </div>
                <div class="ptk-profileDetailsRow">
                    <p class="ptk-profileLabels">Lastname:</p>
                    <p class="ptk-profileDetails">{{ user.lastname }}</p>
                </div>
                <div class="ptk-profileDetailsRow">
                    <p class="ptk-profileLabels">Department:</p>
                    <p class="ptk-profileDetails">{{ user.team }}</p>
                </div>
            </div>
            <div class="ptk-profileDetailsRight">
                <div class="ptk-profileDetailsRow">
                    <p class="ptk-profileLabelsR">D.O.B:</p>
                    <p class="ptk-profileDetails">{{ user.birthday }}</p>
                </div>
                <div class="ptk-profileDetailsRow">
                    <p class="ptk-profileLabelsR">Email:</p>
                    <p class="ptk-profileDetails">{{ user.email }}</p>
                </div>
            </div>
        </div>
        <a href="{{ path('app_user_edit', {'id': user.id}) }}">
            <img class="ptk-editProfileIcon" src="/assets/images/editProfile.png" alt="Edit profile">
        </a>
    </div>
{% endblock %}

{% block filters %}
    <div class="ptk-filterContainer">
        <a href="#" class="ptk-filterLinks">Newest / </a>
        <a href="#" class="ptk-filterLinks"> Oldest</a>
    </div>
{% endblock %}

{% block body %}
    <div class="ptk-cardsBlock">
        <div class="ptk-ideaCardsContainer">
            {% for projectIdea in projectsIdeas %}
                {% if projectIdea.projectOrIdea == 'idea' %}
                    {# ------------ Idea cards -------------------------------------------------------------- #}
                    <div class="ptk-profileCardContainer">
                        <p class="ptk-profileCardTypeLabel">{{ projectIdea.projectOrIdea }}</p>
                        <a href="{{ path('app_idea_show', {id: projectIdea.id}) }}" class="ptk-cardsLink">
                            <div class="ptk-ideaCards" style="border: 4px solid {{ projectIdea.color }}">
                                <div class="ptk-cardIdeaTitleContainer">
                                    <h1 class="ptk-cardIdeaTitle">{{ projectIdea.title|striptags|length > 40
                                        ? projectIdea.title|striptags|slice(0, 40) ~ '...'
                                        : projectIdea.title|striptags }}</h1>
                                </div>
                                <div class="ptk-cardIdeaStatsContainer">
                                    <div class="ptk-cardStatsContainer">
                                        <div class="ptk-cardIconStats">
                                            {% if projectIdea.liked == 1 %}
                                                <a href="{{ path('app_idea_dislike', {'id': projectIdea.id}) }}"
                                                   class="ptk-cardsLink">
                                                    <img src="{{ asset('build/images/blackheart.png') }}"
                                                         class="ptk-ideaInfoIcons" alt="Dislike">
                                                </a>
                                            {% else %}
                                                <a href="{{ path('app_idea_like', {'id': projectIdea.id}) }}"
                                                   class="ptk-cardsLink">
                                                    <img src="{{ asset('build/images/like.png') }}"
                                                         class="ptk-ideaInfoIcons" alt="Like">
                                                </a>
                                            {% endif %}
                                            <p class="ptk-cardStatsNo">{{ projectIdea.likes }}</p>
                                        </div>
                                        <div class="ptk-cardIconStats">
                                            <img src="{{ asset('build/images/comment.png') }}" class="ptk-ideaInfoIcons"
                                                 alt="Comments">
                                            <p class="ptk-cardStatsNo">{{ projectIdea.counts }}</p>
                                        </div>
                                        <div class="ptk-cardIconStats">
                                            <img src="{{ asset('build/images/view.png') }}" class="ptk-ideaInfoIcons"
                                                 alt="Views">
                                            <p class="ptk-cardStatsNo">{{ projectIdea.views }}</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                {% endif %}
                {% if projectIdea.projectOrIdea == 'project' %}
                    {#  ------------ Project cards -------------------------------------------------------------- -#}
                    <div class="ptk-profileCardContainer">
                        <p class="ptk-profileCardTypeLabel">{{ projectIdea.projectOrIdea }}</p>
                        <a href="{{ path('app_project_show', {'id': projectIdea.id, orderBy: 'show'}) }}"
                           class="ptk-cardsLink">
                            <div class="ptk-cards">
                                <div class="ptk-cardTitleContainer">
                                    <h1 class="ptk-cardTitle">{{ projectIdea.title|striptags|length > 40
                                        ? projectIdea.title|striptags|slice(0, 40) ~ '...'
                                        : projectIdea.title|striptags }}</h1>
                                </div>
                                <div class="ptk-cardStatsContainer" style="background-color: {{ projectIdea.color }}">
                                    <div class="ptk-cardIconStats">
                                        <img src="{{ asset('build/images/idea.png') }}" alt="idea">
                                        <p class="ptk-cardStatsNo">{{ projectIdea.counts }}</p>
                                    </div>
                                    <div class="ptk-cardIconStats">

                                        <img src="{{ asset('build/images/view.png') }}" alt="Views">
                                        <p class="ptk-cardStatsNo">
                                            {{ projectIdea.views is null ? 0 : projectIdea.views }}</p>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </div>
                {% endif %}
            {% endfor %}
        </div>

    </div>
{% endblock %}
